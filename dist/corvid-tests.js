module.exports=function(t){var e={};function s(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,s),i.l=!0,i.exports}return s.m=t,s.c=e,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(r,i,function(e){return t[e]}.bind(null,i));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=2)}([function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Matcher=void 0;const r=s(10),i=s(5),n=s(6),u=s(1);e.Matcher=class{constructor(t,e,s,i){this.m_ExpectedValue=t,this.m_Performance=new r.TestPerformance,this.m_BeforeFunctions=e,this.m_AfterFunctions=s,this.m_Description=i}get ExpectedValue(){return this.m_ExpectedValue}set ExpectedValue(t){this.m_ExpectedValue=t}get Result(){return this.m_Result}set Result(t){this.m_Result=t}get FailedString(){return this.m_FailedString}set FailedString(t){this.m_FailedString=t}get Description(){return this.m_Description}set Description(t){this.m_Description=t}get StartAt(){return this.m_StartAt}set StartAt(t){this.m_StartAt=t}get Performance(){return this.m_Performance}set Performance(t){this.m_Performance=t}get BeforeFunctions(){return this.m_BeforeFunctions}set BeforeFunctions(t){this.m_BeforeFunctions=t}get AfterFunctions(){return this.m_AfterFunctions}set AfterFunctions(t){this.m_AfterFunctions=t}initMatcher(){this.m_BeforeFunctions.push(()=>{this.m_Performance.startCount()}),this.m_AfterFunctions.push(()=>{this.m_Performance.endCount()})}before(){for(const t of this.m_BeforeFunctions)t()}after(){for(const t of this.m_AfterFunctions)t()}toBeTrue(){return this.testTemplate(()=>{this.m_ExpectedValue},"false")}toBeFalse(){return this.testTemplate(()=>!1===this.m_ExpectedValue,"true")}toBeTruthy(){return this.testTemplate(()=>!!this.m_ExpectedValue,"falsy")}toBeFalsy(){return this.testTemplate(()=>!this.m_ExpectedValue,"truthy")}toBe(t){return this.testTemplate(()=>this.m_ExpectedValue===t,t)}notToBe(t){return this.testTemplate(()=>this.m_ExpectedValue!==t,t)}toBeLessThan(t){return this.testTemplate(()=>this.m_ExpectedValue<t,t.toString())}toBeLessThanOrEqual(t){return this.testTemplate(()=>this.m_ExpectedValue<=t,t.toString())}toBeGreaterThan(t){return this.testTemplate(()=>this.m_ExpectedValue>t,t.toString())}toBeGreaterThanOrEqual(t){return this.testTemplate(()=>this.m_ExpectedValue>=t,t.toString())}deepObjectEquals(t){return this.testTemplate(()=>i.deepObjectEqualsEqualer(this.m_ExpectedValue,t),t)}toContain(t){return this.testTemplate(()=>!!this.m_ExpectedValue.filter(e=>e===t),t)}toContainEqual(t){return this.testTemplate(()=>!!this.m_ExpectedValue.filter(e=>i.deepObjectEqualsEqualer(e,t)),t)}testTemplate(t,e){this.StartAt=new Date,this.initMatcher(),this.before();const s=t();this.after();const r=s?null:n.errorTemplate(JSON.stringify(this.ExpectedValue),JSON.stringify(e));return this.Result=new u.TestResult(s,this.Performance.getCountMS(),this.Description,r,this.StartAt,!1,null),this.Result}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TestResult=void 0;e.TestResult=class{constructor(t,e,s,r,i,n,u){this.m_StartAt=i,this.m_Passed=t,this.m_TimePassed=e,this.m_Description=s,null!==r&&(this.m_FailedString=r),n&&(this.m_ErrorDetected=!0,this.m_ErrorString=u)}get FailedString(){return this.m_FailedString}set FailedString(t){this.m_FailedString=t}get ErrorDetected(){return this.m_ErrorDetected}set ErrorDetected(t){this.m_ErrorDetected=t}get StartAt(){return this.m_StartAt}set StartAt(t){this.m_StartAt=t}get Passed(){return this.m_Passed}set Passed(t){this.m_Passed=t}get TimePassed(){return this.m_TimePassed}set TimePassed(t){this.m_TimePassed=t}get Description(){return this.m_Description}set Description(t){this.m_Description=t}get ErrorString(){return this.m_ErrorString}set ErrorString(t){this.m_ErrorString=t}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.testSuiteManager=void 0;var r=s(3);Object.defineProperty(e,"TestSuite",{enumerable:!0,get:function(){return r.TestSuite}});var i=s(7);Object.defineProperty(e,"AsyncTestSuite",{enumerable:!0,get:function(){return i.AsyncTestSuite}});var n=s(0);Object.defineProperty(e,"Matcher",{enumerable:!0,get:function(){return n.Matcher}});var u=s(9);Object.defineProperty(e,"AsyncMatcherProxy",{enumerable:!0,get:function(){return u.AsyncMatcherProxy}});var c=s(8);Object.defineProperty(e,"AsyncTest",{enumerable:!0,get:function(){return c.AsyncTest}});var o=s(1);Object.defineProperty(e,"TestResult",{enumerable:!0,get:function(){return o.TestResult}});var a=s(4);Object.defineProperty(e,"Test",{enumerable:!0,get:function(){return a.Test}});const h=new(s(12).TestSuiteManager);e.testSuiteManager=h},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TestSuite=void 0;const r=s(4);e.TestSuite=class{constructor(t){this.m_Tests=[],this.m_Description=t,this.m_BeforeEach=[],this.m_AfterEach=[]}get Description(){return this.m_Description}set Description(t){this.m_Description=t}get Tests(){return this.m_Tests}set Tests(t){this.m_Tests=t}get BeforeEach(){return this.m_BeforeEach}set BeforeEach(t){this.m_BeforeEach=t}get AfterEach(){return this.m_AfterEach}set AfterEach(t){this.m_AfterEach=t}addTest(t){if(""!==t){const e=new r.Test(t,this.m_BeforeEach,this.m_AfterEach);return this.m_Tests.push(e),e}throw new Error("test is null!")}getAllTestsResults(){return this.m_Tests.map(t=>t.Matcher.Result)}getPassedTestsResults(){const t=this.m_Tests.filter(t=>t.Matcher.Result.Passed),e=[];for(const s of t)e.push(s.Matcher.Result);return e}getFailedTestsResults(){const t=this.m_Tests.filter(t=>!t.Matcher.Result.Passed),e=[];for(const s of t)e.push(s.Matcher.Result);return e}addBeforeEach(t){return this.m_BeforeEach.push(t),this}addAfterEach(t){return this.m_AfterEach.push(t),this}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Test=void 0;const r=s(0);e.Test=class{constructor(t,e,s){this.m_Description=t,this.m_BeforeFunctions=[...e],this.m_AfterFunctions=[...s]}get Description(){return this.m_Description}set Description(t){this.m_Description=t}get Matcher(){return this.m_Matcher}set Matcher(t){this.m_Matcher=t}get BeforeFunctions(){return this.m_BeforeFunctions}set BeforeFunctions(t){this.m_BeforeFunctions=t}get AfterFunctions(){return this.m_AfterFunctions}set Result(t){this.m_AfterFunctions=t}expect(t){return this.m_Matcher=new r.Matcher(t,this.m_BeforeFunctions,this.m_AfterFunctions,this.m_Description),this.m_Matcher}addBefore(t){return this.m_BeforeFunctions.push(t),this}addAfter(t){return this.m_AfterFunctions.push(t),this}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.deepObjectEqualsEqualer=void 0,e.deepObjectEqualsEqualer=function t(e,s){if(null==e||null==s)return e===s;if(e.constructor!==s.constructor)return!1;if(e instanceof Function)return e===s;if(e instanceof RegExp)return e===s;if(e===s||e.valueOf()===s.valueOf())return!0;if(Array.isArray(e)&&e.length!==s.length)return!1;if(e instanceof Date)return!1;if(!(e instanceof Object))return!1;if(!(s instanceof Object))return!1;var r=Object.keys(e);return Object.keys(s).every((function(t){return-1!==r.indexOf(t)}))&&r.every((function(r){return t(e[r],s[r])}))}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.errorTemplate=void 0,e.errorTemplate=function(t,e){return`expected ${t}, but got ${e}`}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncTestSuite=void 0;const r=s(8);e.AsyncTestSuite=class{constructor(t){this.m_Tests=[],this.m_Description=t,this.m_BeforeEach=[],this.m_AfterEach=[]}get Description(){return this.m_Description}set Description(t){this.m_Description=t}get Tests(){return this.m_Tests}set Tests(t){this.m_Tests=t}get BeforeEach(){return this.m_BeforeEach}set BeforeEach(t){this.m_BeforeEach=t}get AfterEach(){return this.m_AfterEach}set AfterEach(t){this.m_AfterEach=t}addTest(t){if(""!==t){const e=new r.AsyncTest(t,this.m_BeforeEach,this.m_AfterEach);return this.m_Tests.push(e),e}throw new Error("test is null!")}async getAllTestsResults(){return await this.waitForTestsToBeResolved(),this.m_Results}async getPassedTestsResults(){await this.waitForTestsToBeResolved();return this.m_Results.filter(t=>t.Passed)}async getFailedTestsResults(){await this.waitForTestsToBeResolved();return this.m_Results.filter(t=>!t.Passed)}async waitForTestsToBeResolved(){const t=[];if(!this.m_AllTestsResolved){for(const e of this.m_Tests){e.Matcher.execute();const s=await e.Matcher.ExpectedValuePromise;t.push(s)}this.m_Results=t,this.m_AllTestsResolved=!0}}addBeforeEach(t){return this.m_BeforeEach.push(t),this}addAfterEach(t){return this.m_AfterEach.push(t),this}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncTest=void 0;const r=s(9);e.AsyncTest=class{constructor(t,e,s){this.m_Description=t,this.m_beforeFunctions=[...e],this.m_AfterFunctions=[...s]}get Description(){return this.m_Description}set Description(t){this.m_Description=t}get Matcher(){return this.m_Matcher}set Matcher(t){this.m_Matcher=t}get BeforeFunctions(){return this.m_beforeFunctions}set BeforeFunctions(t){this.m_beforeFunctions=t}get AfterFunctions(){return this.m_AfterFunctions}set Result(t){this.m_AfterFunctions=t}expect(t){return this.m_Matcher=new r.AsyncMatcherProxy(async()=>t,this.m_beforeFunctions,this.m_AfterFunctions,this.m_Description),this.m_Matcher}asyncExpect(t){return this.m_Matcher=new r.AsyncMatcherProxy(t,this.m_beforeFunctions,this.m_AfterFunctions,this.m_Description),this.m_Matcher}addBefore(t){return this.m_beforeFunctions.push(t),this}addAfter(t){return this.m_AfterFunctions.push(t),this}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncMatcherProxy=void 0;const r=s(5),i=s(0),n=s(1),u=s(6);e.AsyncMatcherProxy=class{constructor(t,e,s,r){this.m_ExpectedValueAsyncFunction=t,this.m_Matcher=new i.Matcher(null,e,s,r),this.m_Execution=new Promise((t,e)=>{this.m_ExecutionResolver=t}),this.m_ExpectedValuePromise=new Promise((t,e)=>{this.m_TestResultResolver=t})}get ExpectedValue(){return this.Matcher.ExpectedValue}set ExpectedValue(t){this.Matcher.ExpectedValue=t}get ExpectedValuePromise(){return this.m_ExpectedValuePromise}set ExpectedValuePromise(t){this.m_ExpectedValuePromise=t}get Result(){return this.Matcher.Result}set Result(t){this.Matcher.Result=t}get FailedString(){return this.Matcher.FailedString}set FailedString(t){this.Matcher.FailedString=t}get Description(){return this.Matcher.Description}set Description(t){this.Matcher.Description=t}get StartAt(){return this.Matcher.StartAt}set StartAt(t){this.Matcher.StartAt=t}get Performance(){return this.Matcher.Performance}set Performance(t){this.Matcher.Performance=t}get BeforeFunctions(){return this.Matcher.BeforeFunctions}set BeforeFunctions(t){this.Matcher.BeforeFunctions=t}get AfterFunctions(){return this.Matcher.AfterFunctions}set AfterFunctions(t){this.Matcher.AfterFunctions=t}get Matcher(){return this.m_Matcher}set Matcher(t){this.m_Matcher=t}resolveTestResult(t){this.m_TestResultResolver(t)}initMatcher(){this.Matcher.BeforeFunctions.unshift(()=>{this.Matcher.Performance.startCount()}),this.Matcher.AfterFunctions.push(()=>{this.Matcher.Performance.endCount()})}async before(){for(const t of this.Matcher.BeforeFunctions)await t()}async after(){for(const t of this.Matcher.AfterFunctions)await t()}async toBeTrue(){return this.asyncTestTemplate(()=>{this.Matcher.ExpectedValue},"false")}async toBeFalse(){return this.asyncTestTemplate(()=>!1===this.Matcher.ExpectedValue,"true")}async toBeTruthy(){return this.asyncTestTemplate(()=>!!this.Matcher.ExpectedValue,"falsy")}async toBeFalsy(){return this.asyncTestTemplate(()=>!this.Matcher.ExpectedValue,"truthy")}async toBe(t){return this.asyncTestTemplate(()=>this.Matcher.ExpectedValue===t,t)}async notToBe(t){return this.asyncTestTemplate(()=>this.Matcher.ExpectedValue!==t,t)}async toBeLessThan(t){return this.asyncTestTemplate(()=>this.Matcher.ExpectedValue<t,t.toString())}async toBeLessThanOrEqual(t){return this.asyncTestTemplate(()=>this.Matcher.ExpectedValue<=t,t.toString())}async toBeGreaterThan(t){return this.asyncTestTemplate(()=>this.Matcher.ExpectedValue>t,t.toString())}async toBeGreaterThanOrEqual(t){return this.asyncTestTemplate(()=>this.Matcher.ExpectedValue>=t,t.toString())}async deepObjectEquals(t){return this.asyncTestTemplate(()=>r.deepObjectEqualsEqualer(this.Matcher.ExpectedValue,t),t)}async toContain(t){return this.asyncTestTemplate(()=>!!this.Matcher.ExpectedValue.filter(e=>e===t),t)}async toContainEqual(t){return this.asyncTestTemplate(()=>!!this.Matcher.ExpectedValue.filter(e=>r.deepObjectEqualsEqualer(e,t)),t)}async prepareMatcher(){let t=await this.m_ExpectedValueAsyncFunction();this.Matcher.ExpectedValue=t}execute(){this.m_ExecutionResolver()}async asyncTestTemplate(t,e){try{await this.m_Execution,this.StartAt=new Date,this.initMatcher(),await this.prepareMatcher(),await this.before();const s=await t();await this.after();const r=s?null:u.errorTemplate(JSON.stringify(this.ExpectedValue),JSON.stringify(e));return this.Result=new n.TestResult(s,this.Performance.getCountMS(),this.Description,r,this.StartAt,!1,null),this.resolveTestResult(this.Result),this.Result}catch(t){return this.Result=new n.TestResult(!1,0,this.Description,"test failed",this.StartAt,!0,t.message),this.resolveTestResult(this.Result),this.Result}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TestPerformance=void 0;const r=s(11).performance;e.TestPerformance=class{constructor(){}startCount(){this.m_StartTime=r.now()}endCount(){this.m_EndTime=r.now(),this.m_ResultSEC=this.m_EndTime-this.m_StartTime,this.m_ResultMS=1e3*this.m_ResultSEC}getCountSec(){return this.m_ResultSEC}getCountMS(){return this.m_ResultMS}}},function(t,e){t.exports=require("perf_hooks")},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TestSuiteManager=void 0;const r=s(7),i=s(3),n=s(13),u=s(14);e.TestSuiteManager=class{constructor(){this.m_TestSuites=[],this.m_AsyncTestSuites=[]}get TestSuites(){return this.m_TestSuites}set TestSuites(t){this.m_TestSuites=t}get IAsyncTestSuite(){return this.m_AsyncTestSuites}set AsyncTestSuites(t){this.m_AsyncTestSuites=t}addAsyncTestSuite(t){const e=new r.AsyncTestSuite(t);return this.m_AsyncTestSuites.push(e),e}addTestSuite(t){const e=new i.TestSuite(t);return this.m_TestSuites.push(e),e}async getAllTestSuitesResults(){const t=[];for(const e of this.m_TestSuites){const s=e.getAllTestsResults(),r=new n.TestSuiteResult(e.Description);r.TestsResults=s,t.push(r)}for(const e of this.m_AsyncTestSuites){const s=await e.getAllTestsResults(),r=new n.TestSuiteResult(e.Description);r.TestsResults=s,t.push(r)}return t}async getAllTestSuitesFailedResults(){const t=[];for(const e of this.m_TestSuites){const s=e.getFailedTestsResults(),r=new n.TestSuiteResult(e.Description);r.TestsResults=s,t.push(r)}for(const e of this.m_AsyncTestSuites){const s=await e.getFailedTestsResults(),r=new n.TestSuiteResult(e.Description);r.TestsResults=s,t.push(r)}return t}async getAllTestSuitesPassedResults(){const t=[];for(const e of this.m_TestSuites){const s=e.getPassedTestsResults(),r=new n.TestSuiteResult(e.Description);r.TestsResults=s,t.push(r)}for(const e of this.m_AsyncTestSuites){const s=await e.getPassedTestsResults(),r=new n.TestSuiteResult(e.Description);r.TestsResults=s,t.push(r)}return t}async isAnyFailed(){let t=!1;for(const e of this.m_TestSuites){e.getFailedTestsResults()&&(t=!0)}for(const e of this.m_AsyncTestSuites){await e.getFailedTestsResults()&&(t=!0)}return t}async getAllTestSuitesResultsG(){const t=[];for(const e of this.m_TestSuites){const s=e.getAllTestsResults();for(const e of s)t.push(e)}for(const e of this.m_AsyncTestSuites){const s=await e.getAllTestsResults();for(const e of s)t.push(e)}return t}async waitForAsyncTestsToBeResolved(){for(const t of this.m_AsyncTestSuites)await t.waitForTestsToBeResolved()}async execute(){await u.executeTestsReader()}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TestSuiteResult=void 0;e.TestSuiteResult=class{constructor(t){this.m_TestSuiteDescription=t}get TestSuiteDescription(){return this.m_TestSuiteDescription}set TestSuiteDescription(t){this.m_TestSuiteDescription=t}get TestsResults(){return this.m_TestsResults}set TestsResults(t){this.m_TestsResults=t}}},function(module,exports,__webpack_require__){"use strict";(function(__dirname){var __importDefault=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.executeTestsReader=void 0;const path_1=__importDefault(__webpack_require__(15)),fs_1=__importDefault(__webpack_require__(16)),index_1=__webpack_require__(2);async function executeTestsReader(){console.log("run tests");const folderPath=path_1.default.join(__dirname+"/../../../../");await fromDir(folderPath,/\.ct.js$/,async filename=>{console.log("-- found: ",filename);const s=fs_1.default.readFileSync(filename,"utf8"),x=eval(s);await index_1.testSuiteManager.waitForAsyncTestsToBeResolved()})}async function fromDir(t,e,s){if(fs_1.default.existsSync(t))for(var r=fs_1.default.readdirSync(t),i=0;i<r.length;i++){var n=path_1.default.join(t,r[i]);fs_1.default.lstatSync(n).isDirectory()?fromDir(n,e,s):e.test(n)&&await s(n)}else console.log("no dir ",t)}exports.executeTestsReader=executeTestsReader}).call(this,"/")},function(t,e){t.exports=require("path")},function(t,e){t.exports=require("fs")}]);